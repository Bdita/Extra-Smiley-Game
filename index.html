<!DOCTYPE html>
<html lang="en">
<head>
	<title> Matching Game </title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="mystyle.css">
	
	<style>
	img {position:absolute;}
	
	div {
		position:absolute;
		width:500px;
		height:500px;
		}
	
	#rightSide { 
		left:700px;
        border-left:1px solid black;
		}
	</style>
	
	
</head>

<body onload = "generateFaces()">
	<div class = "container">
		<h3> Matching Game</h3>
		<p>Click on the extra smiling face on the left.</p>
		<div id="leftSide"></div>
		<div id="rightSide"></div>
		
		<script>
			var numberOfFaces = 5;
			var theLeftSide = document.getElementById("leftSide");
			
			function generateFaces() {
				for (i = 0; i < numberOfFaces; i++) {
					var smilies = document.createElement("img");
					smilies.src = "http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
					var random_topvalue = Math.random() * 401;
					random_topvalue = Math.floor(random_topvalue);
					var random_leftvalue= Math.random() * 401;
					random_leftvalue = Math.floor(random_leftvalue);
					smilies.style.top = random_topvalue + "px";
					smilies.style.left = random_leftvalue + "px";
					theLeftSide.appendChild(smilies);
				}
				
				var theRightSide = document.getElementById("rightSide");
				var leftSideImages = theLeftSide.cloneNode(true);
				theLeftSide.lastChild.onclick = function nextLevel(event){
					event.stopPropagation();
						while (theLeftSide.firstChild){
						theLeftSide.removeChild(theLeftSide.firstChild);
						}
						while (theRightSide.firstChild){
						theRightSide.removeChild(theRightSide.firstChild);
						}
					numberOfFaces += 5;
					generateFaces();
				}
		
				var the_clone = leftSideImages.removeChild(leftSideImages.lastChild);
				theRightSide.appendChild(leftSideImages);
				
				var theBody = document.getElementsByTagName("body")[0];	
				theBody.onclick = function gameOver() {
					alert("Game Over!");
				theBody.onclick = null;
					theLeftSide.lastChild.onclick = null;
				}; 				
		}
						
		</script>	
	</div>
</body>
</html>
			